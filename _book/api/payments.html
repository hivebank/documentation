
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Payments Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.1">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="auth.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../goals.html">
            
                <a href="../goals.html">
            
                    
                    Goals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../software.html">
            
                <a href="../software.html">
            
                    
                    Software
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../dch.html">
            
                <a href="../dch.html">
            
                    
                    DCH
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installation.html">
            
                <a href="../installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="main.html">
            
                <a href="main.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="accounts.html">
            
                <a href="accounts.html">
            
                    
                    Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="auth.html">
            
                <a href="auth.html">
            
                    
                    Auth
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.3" data-path="payments.html">
            
                <a href="payments.html">
            
                    
                    Payments
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    CLI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../cli/server.html">
            
                <a href="../cli/server.html">
            
                    
                    Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../cli/client.html">
            
                <a href="../cli/client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../tests-and-benchmarks.md">
            
                <span>
            
                    
                    Tests and benchmarks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../development.html">
            
                <a href="../development.html">
            
                    
                    Development
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Payments</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="payments">Payments</h1>
<p>The accountDetails value for payments is in the following form:</p>
<p><code>accountNumber@bankNumber</code></p>
<p>The <code>bankNumber</code> parameter is used to determine which bank the sender and recipient belong to. Currently, 
only the current deployment is supported. </p>
<p>If payments are made using an account on the current deployment, the <code>bankNumber</code> parameter should be left blank:</p>
<p><code>accountNumber@</code></p>
<h2 id="credit-transfer">Credit Transfer</h2>
<p>HTTP route: <code>POST /payment/credit</code></p>
<p>This route initiates a payment from one party to another. Currently the system only supports payments 
between account holders on that system. There is, however, scope to include this to payments on another given 
deployment of BVNK, as well as account holders at other current banking institutions.</p>
<p><strong>Request</strong></p>
<pre><code>curl --request POST \
  --url https://bvnk.co:8443/transaction/credit \
  --header &apos;cache-control: no-cache&apos; \
  --header &apos;content-type: multipart/form-data; boundary=---011000010111000001101001&apos; \
  --header &apos;x-auth-token: bf48d106-1953-45a3-a9f7-489aa156068b&apos; \
  --form SenderDetails=97890206-89d0-40f1-8162-af76bdf05089@ \
  --form RecipientDetails=89e2b879-c780-4481-a69a-d656a4d1f1ae@ \
  --form Amount=20 \
  --form Lat=11.0 \
  --form Lon=12.0 \
  --form &apos;Desc=Test desc&apos;
</code></pre><p><strong>Response</strong></p>
<pre><code>{
  &quot;response&quot;: &quot;&quot;
}
</code></pre><h2 id="deposit">Deposit</h2>
<p>HTTP route: <code>POST /payment/deposit</code></p>
<p>This is used to deposit value into one of the user&apos;s own accounts. This is implemented currently to showcase
how deposits will work, and will eventually be limited to just deposit mechanisms, for e.g. receiving money from 
an ATM deposit, deposit via card transfer, etc.</p>
<p><strong>Request</strong></p>
<pre><code>curl --request POST \
  --url https://bvnk.co:8443/transaction/deposit \
  --header &apos;cache-control: no-cache&apos; \
  --header &apos;content-type: multipart/form-data; boundary=---011000010111000001101001&apos; \
  --header &apos;x-auth-token: bf48d106-1953-45a3-a9f7-489aa156068b&apos; \
  --form AccountDetails=97890206-89d0-40f1-8162-af76bdf05089@ \
  --form Amount=120 \
  --form Lat=10. \
  --form Lon=10. \
  --form &apos;Desc=&#x1F34A;&apos;
</code></pre><p><strong>Response</strong></p>
<pre><code>{
  &quot;response&quot;: &quot;&quot;
}
</code></pre><h2 id="transaction-list">Transaction List</h2>
<p>HTTP route: <code>GET transactions/list/{perPage}/{pageNumber}</code></p>
<p>This route returns a list of transactions according to the parameters sent in the request. In the <code>GET</code> request,
perPage and pageNumber are sent through to list transactions. Transactions are returned per account linked to a given 
user, and the accountNumber parameter specificies which user account to return transactions for.</p>
<p>The order of transactions returned is from most recent. If a user wants to retrieve all transactions, they would loop through 
transactions using this route increasing pageNumber until less than perPage is returned, or if an empty set is returned.</p>
<p><strong>Request</strong></p>
<pre><code>curl --request GET \
  --url https://bvnk.co:8443/transaction/list/10/0 \
  --header &apos;cache-control: no-cache&apos; \
  --header &apos;content-type: multipart/form-data; boundary=---011000010111000001101001&apos; \
  --header &apos;x-auth-accountnumber: 97890206-89d0-40f1-8162-af76bdf05089&apos; \
  --header &apos;x-auth-token: 4e8afddd-e151-40ab-835c-2ced3a1ae075&apos; \
</code></pre><p><strong>Response</strong></p>
<pre><code>{
    &quot;response&quot;: [
        {
            &quot;ID&quot;: 81,
            &quot;PainType&quot;: 1,
            &quot;Sender&quot;: {
                &quot;AccountNumber&quot;: &quot;97890206-89d0-40f1-8162-af76bdf05089&quot;,
                &quot;BankNumber&quot;: &quot;&quot;
            },
            &quot;Receiver&quot;: {
                &quot;AccountNumber&quot;: &quot;89e2b879-c780-4481-a69a-d656a4d1f1ae&quot;,
                &quot;BankNumber&quot;: &quot;&quot;
            },
            &quot;Amount&quot;: &quot;20&quot;,
            &quot;Fee&quot;: &quot;0.0020000000949949026&quot;,
            &quot;Geo&quot;: [
                11,
                12
            ],
            &quot;Desc&quot;: &quot;Test desc&quot;,
            &quot;Status&quot;: &quot;approved&quot;,
            &quot;Timestamp&quot;: 1472465399
        },
        {
            &quot;ID&quot;: 80,
            &quot;PainType&quot;: 1000,
            &quot;Sender&quot;: {
                &quot;AccountNumber&quot;: &quot;0&quot;,
                &quot;BankNumber&quot;: &quot;0&quot;
            },
            &quot;Receiver&quot;: {
                &quot;AccountNumber&quot;: &quot;97890206-89d0-40f1-8162-af76bdf05089&quot;,
                &quot;BankNumber&quot;: &quot;&quot;
            },
            &quot;Amount&quot;: &quot;120&quot;,
            &quot;Fee&quot;: &quot;0.012000000104308128&quot;,
            &quot;Geo&quot;: [
                10,
                10
            ],
            &quot;Desc&quot;: &quot;&#x1F34A;&quot;,
            &quot;Status&quot;: &quot;approved&quot;,
            &quot;Timestamp&quot;: 1472379775
        },
        /* the remaining records up to perPage */
    ]
}
</code></pre><h2 id="transaction-list-after-timestamp">Transaction List After Timestamp</h2>
<p>HTTP route: <code>GET transactions/list/{perPage}/{pageNumber}/{timestamp}</code></p>
<p>This route is the same as above, but will only return those records after a given timestamp. The 
timestamp must be a UNIX timestamp.</p>
<p><strong>Request</strong></p>
<pre><code>curl --request GET \
  --url https://bvnk.co:8443/transaction/list/10/0/1472465399 \
  --header &apos;cache-control: no-cache&apos; \
  --header &apos;content-type: multipart/form-data; boundary=---011000010111000001101001&apos; \
  --header &apos;x-auth-accountnumber: 97890206-89d0-40f1-8162-af76bdf05089&apos; \
  --header &apos;x-auth-token: 4e8afddd-e151-40ab-835c-2ced3a1ae075&apos; \
</code></pre><p><strong>Response</strong></p>
<pre><code>{
    &quot;response&quot;: [
        {
            &quot;ID&quot;: 81,
            &quot;PainType&quot;: 1,
            &quot;Sender&quot;: {
                &quot;AccountNumber&quot;: &quot;97890206-89d0-40f1-8162-af76bdf05089&quot;,
                &quot;BankNumber&quot;: &quot;&quot;
            },
            &quot;Receiver&quot;: {
                &quot;AccountNumber&quot;: &quot;89e2b879-c780-4481-a69a-d656a4d1f1ae&quot;,
                &quot;BankNumber&quot;: &quot;&quot;
            },
            &quot;Amount&quot;: &quot;20&quot;,
            &quot;Fee&quot;: &quot;0.0020000000949949026&quot;,
            &quot;Geo&quot;: [
                11,
                12
            ],
            &quot;Desc&quot;: &quot;Test desc&quot;,
            &quot;Status&quot;: &quot;approved&quot;,
            &quot;Timestamp&quot;: 1472465399
        }
    ]
}
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="auth.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Auth">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Payments","level":"1.3.3","depth":2,"next":{"title":"CLI","level":"1.4","depth":1,"ref":"","articles":[{"title":"Server","level":"1.4.1","depth":2,"path":"cli/server.md","ref":"cli/server.md","articles":[]},{"title":"Client","level":"1.4.2","depth":2,"path":"cli/client.md","ref":"cli/client.md","articles":[]}]},"previous":{"title":"Auth","level":"1.3.2","depth":2,"path":"api/auth.md","ref":"api/auth.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"api/payments.md","mtime":"2016-08-29T10:22:50.000Z","type":"markdown"},"gitbook":{"version":"3.1.1","time":"2016-08-29T10:34:49.094Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

